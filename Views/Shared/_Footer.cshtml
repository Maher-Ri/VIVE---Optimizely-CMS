@model VIVEcms.Models.ViewModels.LayoutModel
@using EPiServer.Core
@using EPiServer.Web.Mvc.Html
@inject VIVEcms.Services.IImageService ImageService

@* ShowFooter toggle â€” hide/show entire footer from CMS *@
@if (Model.ShowFooter)
{
<div id="footer-wrapper">
    <div class="elementor elementor-1671" data-elementor-id="1671" data-elementor-type="wp-post">
        <section class="elementor-section elementor-top-section elementor-element elementor-element-5a4a1a8 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-element_type="section" data-id="5a4a1a8" data-settings='{"background_background":"classic","vive_ext_is_background_parallax":"false","vive_ext_is_background_on_scroll":"false"}'>
            <div class="elementor-container elementor-column-gap-default">

                @* Column 1: Logo - ONLY src and alt are dynamic *@
                <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-d25b20d" data-element_type="column" data-id="d25b20d" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-db8a12a elementor-widget elementor-widget-image" data-element_type="widget" data-id="db8a12a" data-settings='{"vive_image_is_animation":"false","vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="image.default">
                            <div class="elementor-widget-container">
                                @if (!ContentReference.IsNullOrEmpty(Model.FooterLogo))
                                {
                                    <img alt="@(Model.FooterLogo != null ? ImageService.GetAltText(Model.FooterLogo) : "")" class="attachment-large size-large wp-image-995" height="120" src="@Url.ContentUrl(Model.FooterLogo)" width="236"/>
                                }
                            </div>
                        </div>
                    </div>
                </div>

                @* Column 2: Address - ONLY text is dynamic *@
                <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-350c397" data-element_type="column" data-id="350c397" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-ef9941e elementor-widget elementor-widget-text-editor" data-element_type="widget" data-id="ef9941e" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="text-editor.default">
                            <div class="elementor-widget-container">
                                @Html.Raw(Model.FooterAddress)
                            </div>
                        </div>
                    </div>
                </div>

                @* Column 3: Opening Hours - ONLY text is dynamic *@
                <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-40a297b" data-element_type="column" data-id="40a297b" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-06834bb elementor-widget elementor-widget-text-editor" data-element_type="widget" data-id="06834bb" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="text-editor.default">
                            <div class="elementor-widget-container">
                                @Html.Raw(Model.FooterOpeningHours)
                            </div>
                        </div>
                    </div>
                </div>

                @* Column 4: Social Icons - ONLY hrefs are dynamic *@
                <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-baacfea" data-element_type="column" data-id="baacfea" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-15c62ed elementor-shape-circle e-grid-align-right e-grid-align-mobile-left e-grid-align-tablet-left elementor-grid-0 elementor-widget elementor-widget-social-icons" data-element_type="widget" data-id="15c62ed" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="social-icons.default">
                            <div class="elementor-widget-container">
                                <style>/*! elementor - v3.21.0 - 08-05-2024 */
                                    .elementor-widget-social-icons.elementor-grid-0 .elementor-widget-container,.elementor-widget-social-icons.elementor-grid-mobile-0 .elementor-widget-container,.elementor-widget-social-icons.elementor-grid-tablet-0 .elementor-widget-container{line-height:1;font-size:0}.elementor-widget-social-icons:not(.elementor-grid-0):not(.elementor-grid-tablet-0):not(.elementor-grid-mobile-0) .elementor-grid{display:inline-grid}.elementor-widget-social-icons .elementor-grid{grid-column-gap:var(--grid-column-gap,5px);grid-row-gap:var(--grid-row-gap,5px);grid-template-columns:var(--grid-template-columns);justify-content:var(--justify-content,center);justify-items:var(--justify-content,center)}.elementor-icon.elementor-social-icon{font-size:var(--icon-size,25px);line-height:var(--icon-size,25px);width:calc(var(--icon-size, 25px) + 2 * var(--icon-padding, .5em));height:calc(var(--icon-size, 25px) + 2 * var(--icon-padding, .5em))}.elementor-social-icon{--e-social-icon-icon-color:#fff;display:inline-flex;background-color:#69727d;align-items:center;justify-content:center;text-align:center;cursor:pointer}.elementor-social-icon i{color:var(--e-social-icon-icon-color)}.elementor-social-icon svg{fill:var(--e-social-icon-icon-color)}.elementor-social-icon:last-child{margin:0}.elementor-social-icon:hover{opacity:.9;color:#fff}.elementor-social-icon-android{background-color:#a4c639}.elementor-social-icon-apple{background-color:#999}.elementor-social-icon-behance{background-color:#1769ff}.elementor-social-icon-bitbucket{background-color:#205081}.elementor-social-icon-codepen{background-color:#000}.elementor-social-icon-delicious{background-color:#39f}.elementor-social-icon-deviantart{background-color:#05cc47}.elementor-social-icon-digg{background-color:#005be2}.elementor-social-icon-dribbble{background-color:#ea4c89}.elementor-social-icon-elementor{background-color:#d30c5c}.elementor-social-icon-envelope{background-color:#ea4335}.elementor-social-icon-facebook,.elementor-social-icon-facebook-f{background-color:#3b5998}.elementor-social-icon-flickr{background-color:#0063dc}.elementor-social-icon-foursquare{background-color:#2d5be3}.elementor-social-icon-free-code-camp,.elementor-social-icon-freecodecamp{background-color:#006400}.elementor-social-icon-github{background-color:#333}.elementor-social-icon-gitlab{background-color:#e24329}.elementor-social-icon-globe{background-color:#69727d}.elementor-social-icon-google-plus,.elementor-social-icon-google-plus-g{background-color:#dd4b39}.elementor-social-icon-houzz{background-color:#7ac142}.elementor-social-icon-instagram{background-color:#262626}.elementor-social-icon-jsfiddle{background-color:#487aa2}.elementor-social-icon-link{background-color:#818a91}.elementor-social-icon-linkedin,.elementor-social-icon-linkedin-in{background-color:#0077b5}.elementor-social-icon-medium{background-color:#00ab6b}.elementor-social-icon-meetup{background-color:#ec1c40}.elementor-social-icon-mixcloud{background-color:#273a4b}.elementor-social-icon-odnoklassniki{background-color:#f4731c}.elementor-social-icon-pinterest{background-color:#bd081c}.elementor-social-icon-product-hunt{background-color:#da552f}.elementor-social-icon-reddit{background-color:#ff4500}.elementor-social-icon-rss{background-color:#f26522}.elementor-social-icon-shopping-cart{background-color:#4caf50}.elementor-social-icon-skype{background-color:#00aff0}.elementor-social-icon-slideshare{background-color:#0077b5}.elementor-social-icon-snapchat{background-color:#fffc00}.elementor-social-icon-soundcloud{background-color:#f80}.elementor-social-icon-spotify{background-color:#2ebd59}.elementor-social-icon-stack-overflow{background-color:#fe7a15}.elementor-social-icon-steam{background-color:#00adee}.elementor-social-icon-stumbleupon{background-color:#eb4924}.elementor-social-icon-telegram{background-color:#2ca5e0}.elementor-social-icon-threads{background-color:#000}.elementor-social-icon-thumb-tack{background-color:#1aa1d8}.elementor-social-icon-tripadvisor{background-color:#589442}.elementor-social-icon-tumblr{background-color:#35465c}.elementor-social-icon-twitch{background-color:#6441a5}.elementor-social-icon-twitter{background-color:#1da1f2}.elementor-social-icon-viber{background-color:#665cac}.elementor-social-icon-vimeo{background-color:#1ab7ea}.elementor-social-icon-vk{background-color:#45668e}.elementor-social-icon-weibo{background-color:#dd2430}.elementor-social-icon-weixin{background-color:#31a918}.elementor-social-icon-whatsapp{background-color:#25d366}.elementor-social-icon-wordpress{background-color:#21759b}.elementor-social-icon-x-twitter{background-color:#000}.elementor-social-icon-xing{background-color:#026466}.elementor-social-icon-yelp{background-color:#af0606}.elementor-social-icon-youtube{background-color:#cd201f}.elementor-social-icon-500px{background-color:#0099e5}.elementor-shape-rounded .elementor-icon.elementor-social-icon{border-radius:10%}.elementor-shape-circle .elementor-icon.elementor-social-icon{border-radius:50%}
                                </style>
                                <div class="elementor-social-icons-wrapper elementor-grid">

                                    @* Facebook - ONLY href is dynamic *@
                                    <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-facebook elementor-repeater-item-463ff84"
                                           href="@(string.IsNullOrWhiteSpace(Model.FacebookUrl) ? "#" : Model.FacebookUrl)"
                                           target="_blank">
                                            <span class="elementor-screen-only">Facebook</span>
                                            <i class="fab fa-facebook"></i>
                                        </a>
                                    </span>

                                    @* Twitter - ONLY href is dynamic *@
                                    <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-twitter elementor-repeater-item-01d2e7b"
                                           href="@(string.IsNullOrWhiteSpace(Model.TwitterUrl) ? "#" : Model.TwitterUrl)"
                                           target="_blank">
                                            <span class="elementor-screen-only">Twitter</span>
                                            <i class="fab fa-twitter"></i>
                                        </a>
                                    </span>

                                    @* YouTube - ONLY href is dynamic *@
                                    <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-youtube elementor-repeater-item-2504e0c"
                                           href="@(string.IsNullOrWhiteSpace(Model.YoutubeUrl) ? "#" : Model.YoutubeUrl)"
                                           target="_blank">
                                            <span class="elementor-screen-only">Youtube</span>
                                            <i class="fab fa-youtube"></i>
                                        </a>
                                    </span>

                                    @* Instagram - ONLY href is dynamic *@
                                    <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-instagram elementor-repeater-item-dea47c2"
                                           href="@(string.IsNullOrWhiteSpace(Model.InstagramUrl) ? "#" : Model.InstagramUrl)"
                                           target="_blank">
                                            <span class="elementor-screen-only">Instagram</span>
                                            <i class="fab fa-instagram"></i>
                                        </a>
                                    </span>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        @* ===== SECTION 2: BOTTOM BAR ===== *@
        <section class="elementor-section elementor-top-section elementor-element elementor-element-dd45ff7 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-element_type="section" data-id="dd45ff7" data-settings='{"background_background":"classic","vive_ext_is_background_parallax":"false","vive_ext_is_background_on_scroll":"false"}'>
            <div class="elementor-container elementor-column-gap-default">

                @* Column 1: Copyright - ONLY text is dynamic *@
                <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-2ae434a" data-element_type="column" data-id="2ae434a" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-8ba75ef elementor-widget elementor-widget-heading" data-element_type="widget" data-id="8ba75ef" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="heading.default">
                            <div class="elementor-widget-container">
                                <div class="elementor-heading-title elementor-size-default">
                                    @Model.CopyrightText
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                @* Column 2: Footer Links - dynamic list *@
                <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-e002c08" data-element_type="column" data-id="e002c08" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}'>
                    <div class="elementor-widget-wrap elementor-element-populated">
                        <div class="elementor-element elementor-element-f431833 elementor-icon-list--layout-inline elementor-align-right elementor-mobile-align-center elementor-list-item-link-full_width elementor-widget elementor-widget-icon-list" data-element_type="widget" data-id="f431833" data-settings='{"vive_ext_link_sidemenu":"false","vive_ext_link_fullmenu":"false","vive_ext_is_sticky":"false","vive_ext_is_scrollme":"false","vive_ext_is_smoove":"false","vive_ext_is_parallax_mouse":"false","vive_ext_is_infinite":"false","vive_ext_is_fadeout_animation":"false"}' data-widget_type="icon-list.default">
                            <div class="elementor-widget-container">
                                <ul class="elementor-icon-list-items elementor-inline-items">
                                    @if (Model.FooterLinks != null && Model.FooterLinks.Any())
                                    {
                                        foreach (var link in Model.FooterLinks)
                                        {
                                            <li class="elementor-icon-list-item elementor-inline-item">
                                                <a href="@link.Href">
                                                    <span class="elementor-icon-list-text">@link.Text</span>
                                                </a>
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </div>
</div>
}

<a href="javascript:;" id="go-to-top"><span class="ti-arrow-up"></span></a>

<link href="~/css/post-1656.css" media="all" rel="stylesheet" type="text/css" />
<link href="~/css/post-4307.css" media="all" rel="stylesheet" type="text/css" />
<link href="~/css/post-1671.css" media="all" rel="stylesheet" type="text/css" />
<link href="~/css/post-1177.css" media="all" rel="stylesheet" type="text/css" />
<link href="~/css/animations.min.css" media="all" rel="stylesheet" type="text/css" />
<link href="~/css/brands.min.css" media="all" rel="stylesheet" type="text/css" />

<script src="~/js/switchery.js" type="text/javascript"></script>
<script src="~/js/imagesloaded.min.js" type="text/javascript"></script>
<script src="~/js/masonry.min.js" type="text/javascript"></script>
<script src="~/js/effect.min.js" type="text/javascript"></script>
<script src="~/js/jquery.lazy.js" type="text/javascript"></script>
<script type="text/javascript">
window.addEventListener('DOMContentLoaded', function() {
    jQuery(function($) {
        jQuery("img.lazy").each(function() {
            var currentImg = jQuery(this);
            jQuery(this).Lazy({
                onFinishedAll: function() {
                    currentImg.parent("div.post-featured-image-hover").removeClass("lazy");
                    currentImg.parent(".vive_gallery_lightbox").parent("div.gallery_grid_item").removeClass("lazy");
                    currentImg.parent("div.gallery_grid_item").removeClass("lazy");
                }
            });
        });
    });
});
</script>
<script src="~/js/modulobox.js" type="text/javascript"></script>
<script src="~/js/jquery.parallax-scroll.js" type="text/javascript"></script>
<script src="~/js/jquery.smoove.js" type="text/javascript"></script>
<script src="~/js/parallax.js" type="text/javascript"></script>
<script src="~/js/jquery.blast.js" type="text/javascript"></script>
<script src="~/js/jarallax.js" type="text/javascript"></script>
<script type="text/javascript">
window.addEventListener('DOMContentLoaded', function() {
    jQuery(document).ready(function() {
        jQuery(".themegoods-parallax").jarallax({
            speed: 0.8
        });
    });
});
</script>
<script src="~/js/jquery.sticky-sidebar.js" type="text/javascript"></script>
<script type="text/javascript">
var tgAjax = { "ajaxurl": "#", "ajax_nonce": "53add3d4b2" };
</script>
<script src="~/js/vive-elementor.js" type="text/javascript"></script>
<script src="~/js/sourcebuster.min.js" type="text/javascript"></script>
<script src="~/js/core.min.js" type="text/javascript"></script>
<script src="~/js/tweenmax.min.js" type="text/javascript"></script>
<script type="text/javascript">
var vivePluginParams = { "backTitle": "Back" };
</script>
<script src="~/js/vive-plugins.js" type="text/javascript"></script>
<script type="text/javascript">
var tgAjax = { "ajaxurl": "handler.php" };
var viveParams = { "menulayout": "leftalign", "fixedmenu": "1", "footerreveal": "", "headercontent": "content", "lightboxthumbnails": "no_thumbnail", "lightboxtimer": "7000" };
</script>
<script src="~/js/vive-custom.js" type="text/javascript"></script>
<script src="~/js/jquery-tooltipster.js" type="text/javascript"></script>
<script type="text/javascript">
window.addEventListener('DOMContentLoaded', function() {
    jQuery(function($) {
        jQuery(".demotip").tooltipster({
            position: "left",
            multiple: true,
            theme: "tooltipster-shadow",
            delay: 0
        });
    });
});
</script>
<script src="~/js/loftloader.min.js" type="text/javascript"></script>
<script src="~/js/owl.carousel.min.js" type="text/javascript"></script>
<script src="~/js/flickity.pkgd.js" type="text/javascript"></script>
<script src="~/js/tilt.jquery.js" type="text/javascript"></script>
<script src="~/js/jquery.animatedheadline.js" type="text/javascript"></script>
<script src="~/js/webpack.runtime.min.js" type="text/javascript"></script>
<script src="~/js/frontend-modules.min.js" type="text/javascript"></script>
<script src="~/js/waypoints.min.js" type="text/javascript"></script>
<script type="text/javascript">
var elementorFrontendConfig = {
    "environmentMode": { "edit": false, "wpPreview": false, "isScriptDebug": false },
    "i18n": { "shareOnFacebook": "Share on Facebook", "shareOnTwitter": "Share on Twitter", "pinIt": "Pin it", "download": "Download", "downloadImage": "Download image", "fullscreen": "Fullscreen", "zoom": "Zoom", "share": "Share", "playVideo": "Play Video", "previous": "Previous", "next": "Next", "close": "Close", "a11yCarouselWrapperAriaLabel": "Carousel | Horizontal scrolling: Arrow Left & Right", "a11yCarouselPrevSlideMessage": "Previous slide", "a11yCarouselNextSlideMessage": "Next slide", "a11yCarouselFirstSlideMessage": "This is the first slide", "a11yCarouselLastSlideMessage": "This is the last slide", "a11yCarouselPaginationBulletMessage": "Go to slide" },
    "is_rtl": false,
    "breakpoints": { "xs": 0, "sm": 480, "md": 768, "lg": 1025, "xl": 1440, "xxl": 1600 },
    "responsive": { "breakpoints": { "mobile": { "label": "Mobile Portrait", "value": 767, "default_value": 767, "direction": "max", "is_enabled": true }, "mobile_extra": { "label": "Mobile Landscape", "value": 880, "default_value": 880, "direction": "max", "is_enabled": false }, "tablet": { "label": "Tablet Portrait", "value": 1024, "default_value": 1024, "direction": "max", "is_enabled": true }, "tablet_extra": { "label": "Tablet Landscape", "value": 1200, "default_value": 1200, "direction": "max", "is_enabled": false }, "laptop": { "label": "Laptop", "value": 1366, "default_value": 1366, "direction": "max", "is_enabled": false }, "widescreen": { "label": "Widescreen", "value": 2400, "default_value": 2400, "direction": "min", "is_enabled": false } } },
    "version": "3.21.5",
    "is_static": false,
    "experimentalFeatures": { "e_optimized_assets_loading": true, "e_optimized_css_loading": true, "e_swiper_latest": true, "container_grid": true, "home_screen": true, "ai-layout": true },
    "urls": { "assets": "js/plugins/elementor/assets/" },
    "swiperClass": "swiper",
    "settings": { "page": [], "editorPreferences": [] },
    "kit": { "active_breakpoints": ["viewport_mobile", "viewport_tablet"], "lightbox_enable_counter": "yes", "lightbox_enable_fullscreen": "yes", "lightbox_enable_zoom": "yes", "lightbox_enable_share": "yes", "lightbox_title_src": "title", "lightbox_description_src": "description" },
    "post": { "id": 1682, "title": "Home", "excerpt": "", "featuredImage": false }
};
</script>
<script src="~/js/frontend.min.js" type="text/javascript"></script>
<script>
window.lazyLoadOptions = {
    elements_selector: "iframe[data-lazy-src]",
    data_src: "lazy-src",
    data_srcset: "lazy-srcset",
    data_sizes: "lazy-sizes",
    class_loading: "lazyloading",
    class_loaded: "lazyloaded",
    threshold: 300,
    callback_loaded: function(element) {
        if (element.tagName === "IFRAME" && element.dataset.rocketLazyload == "fitvidscompatible") {
            if (element.classList.contains("lazyloaded")) {
                if (typeof window.jQuery != "undefined") {
                    if (jQuery.fn.fitVids) {
                        jQuery(element).parent().fitVids()
                    }
                }
            }
        }
    }
};
window.addEventListener('LazyLoad::Initialized', function(e) {
    var lazyLoadInstance = e.detail.instance;
    if (window.MutationObserver) {
        var observer = new MutationObserver(function(mutations) {
            var image_count = 0;
            var iframe_count = 0;
            var rocketlazy_count = 0;
            mutations.forEach(function(mutation) {
                for (var i = 0; i < mutation.addedNodes.length; i++) {
                    if (typeof mutation.addedNodes[i].getElementsByTagName !== 'function') { continue }
                    if (typeof mutation.addedNodes[i].getElementsByClassName !== 'function') { continue }
                    images = mutation.addedNodes[i].getElementsByTagName('img');
                    is_image = mutation.addedNodes[i].tagName == "IMG";
                    iframes = mutation.addedNodes[i].getElementsByTagName('iframe');
                    is_iframe = mutation.addedNodes[i].tagName == "IFRAME";
                    rocket_lazy = mutation.addedNodes[i].getElementsByClassName('rocket-lazyload');
                    image_count += images.length;
                    iframe_count += iframes.length;
                    rocketlazy_count += rocket_lazy.length;
                    if (is_image) { image_count += 1 }
                    if (is_iframe) { iframe_count += 1 }
                }
            });
            if (image_count > 0 || iframe_count > 0 || rocketlazy_count > 0) { lazyLoadInstance.update() }
        });
        var b = document.getElementsByTagName("body")[0];
        var config = { childList: true, subtree: true };
        observer.observe(b, config)
    }
}, false)
</script>
<script async src="~/js/lazyload.min.js"></script>